<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Upload de Imagem com Armazenamento Local</title>
</head>
<body>
  <h1>Upload de Imagem com Armazenamento Local</h1>
  <input type="file" id="fileInput">
  <button onclick="uploadImagem()">Upload</button>
  <div id="imagemContainer"></div>

  <!-- Modal para exibir a imagem -->
  <div id="modal" style="display: none;">
    <div id="modalContent">
      <span class="close" onclick="fecharModal()">&times;</span>
      <img id="modalImage" src="" alt="Imagem">
    </div>
  </div>

  <script>
    // Função para fazer upload da imagem
    function uploadImagem() {
      const fileInput = document.getElementById('fileInput');
      const file = fileInput.files[0];
      const reader = new FileReader();
      
      reader.onload = function(event) {
        const base64Image = event.target.result;
        // Armazenar a imagem no localStorage
        localStorage.setItem('imagem', base64Image);
        exibirBotaoVisualizar();
      };
      
      reader.readAsDataURL(file);
    }

    window.onload = function() {
      const imagemArmazenada = localStorage.getItem('imagem');
      if (imagemArmazenada) {
        exibirBotaoVisualizar();
      }
    };

    // Função para exibir o botão "Visualizar"
    function exibirBotaoVisualizar() {
      const imagemContainer = document.getElementById('imagemContainer');
      imagemContainer.innerHTML = `<button onclick="abrirModal()">Visualizar Imagem</button>`;
    }


    // Verificar se há uma imagem armazenada no localStorage ao carregar a página

  </script>
</body>
</html>
